<template>
    <div :class="$style.faqSection">
        <div class="container">
            <h2 :class="$style.faqTitle">–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>

            <div :class="$style.faqAccordion">
                <div
                    v-for="(item, index) in items"
                    :key="index"
                    data-aos="fade-up"
                    data-aos-duration="1000"
                    :class="[$style.faqItem, { [$style.active]: activeIndex === index }]"
                    @click="toggleAccordion(index)"
                >
                    <div :class="$style.faqQuestion">
                        <span>{{ item.title }}</span>
                        <div :class="$style.arrowIcon"></div>
                    </div>

                    <div :class="$style.faqAnswer">
                        <div :class="$style.answerContent">
                            <p v-html="item.answer"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'

const activeIndex = ref(-1)

const toggleAccordion = (index: number) => {
    activeIndex.value = activeIndex.value === index ? -1 : index
}

const items = [
    {
        title: '–ö–∞–∫–æ–π –¥—Ä–µ—Å—Å-–∫–æ–¥ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è?',
        answer: "–ú—ã –±—É–¥–µ–º —Ä–∞–¥—ã –≤–∏–¥–µ—Ç—å –≤–∞—Å –≤ –≤–µ—á–µ—Ä–Ω–∏—Ö –Ω–∞—Ä—è–¥–∞—Ö. –ú—É–∂—á–∏–Ω–∞–º —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∫–æ—Å—Ç—é–º—ã, –∂–µ–Ω—â–∏–Ω–∞–º ‚Äî –ø–ª–∞—Ç—å—è –ª—é–±–æ–π –¥–ª–∏–Ω—ã.",
    },
    {
        title: '–ú–æ–∂–Ω–æ –ª–∏ —Å –¥–µ—Ç—å–º–∏?',
        answer: "–ù–∞–º –≤–∞–∂–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ –∑–Ω–∞—Ç—å –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ—Å—Ç–µ–π –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–∏. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–∑—è—Ç—å —Å —Å–æ–±–æ–π –¥–µ—Ç–µ–π, —Å–æ–æ–±—â–∏—Ç–µ –Ω–∞–º –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É: " +
            "<a href=\"tel:+79086991046\">+7 (908) 699-10-46</a>, <a href=\"tel:+79667560566\">+7 (966) 756-05-66</a>",
    },
    {
        title: '–ú–æ–∂–Ω–æ –ª–∏ –≤–∑—è—Ç—å —Å —Å–æ–±–æ–π –∫–æ–≥–æ-–Ω–∏–±—É–¥—å?',
        answer: "–ù–∞–º –≤–∞–∂–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ –∑–Ω–∞—Ç—å –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ—Å—Ç–µ–π. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–∑—è—Ç—å —Å —Å–æ–±–æ–π –ø–∞—Ä—Ç–Ω—ë—Ä–∞, \n" +
            "    —Å–æ–æ–±—â–∏—Ç–µ –Ω–∞–º –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É: \n" +
            "    <a href=\"tel:+79086991046\">+7 (908) 699-10-46</a>, <a href=\"tel:+79667560566\">+7 (966) 756-05-66</a>",
    },
    {
        title: '–ö–∞–∫–∏–µ –ø–æ–¥–∞—Ä–∫–∏ –±—É–¥—É—Ç –¥–ª—è –≤–∞—Å –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏—è—Ç–Ω—ã?',
        answer: "–í–∞—à–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ ‚Äî —É–∂–µ —Å–∞–º—ã–π —Ü–µ–Ω–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫! üíñ<br>\n" +
            "    –ï—Å–ª–∏ –≤—Å—ë –∂–µ —Ö–æ—á–µ—Ç—Å—è –ø–æ—Ä–∞–¥–æ–≤–∞—Ç—å –Ω–∞—Å —Å—é—Ä–ø—Ä–∏–∑–æ–º, –±—É–¥–µ–º –±–ª–∞–≥–æ–¥–∞—Ä–Ω—ã –∑–∞:\n" +
            "    <ul :class=\"$style.giftList\">\n" +
            "      <li>üç∑ –•–æ—Ä–æ—à–µ–µ –≤–∏–Ω–æ –∏–ª–∏ –∞–≤—Ç–æ—Ä—Å–∫–∏–π –∞–ª–∫–æ–≥–æ–ª—å –¥–ª—è –Ω–∞—à–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏</li>\n" +
            "      <li>üé≤ –ù–∞—Å—Ç–æ–ª—å–Ω—ã–µ –∏–≥—Ä—ã –¥–ª—è –±—É–¥—É—â–∏—Ö —Å–µ–º–µ–π–Ω—ã—Ö –≤–µ—á–µ—Ä–æ–≤</li>\n" +
            "      <li>üíå –ö–æ–Ω–≤–µ—Ä—Ç –Ω–∞ –º–µ–¥–æ–≤—ã–π –º–µ—Å—è—Ü (–±—É–¥–µ–º —Ä–∞–¥—ã –≤–∞—à–µ–π –¥–æ–±—Ä–æ–π –º—ã—Å–ª–∏)</li>\n" +
            "    </ul>\n" +
            "    –¶–≤–µ—Ç—ã, –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é, –±—ã—Å—Ç—Ä–æ —Ç–µ—Ä—è—é—Ç —Å–≤–æ—é –∫—Ä–∞—Å–æ—Ç—É, –∞ –≤–∞—à–µ –≤–Ω–∏–º–∞–Ω–∏–µ \n" +
            "    –º—ã —Ö–æ—Ç–∏–º —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è—Ö –Ω–∞–¥–æ–ª–≥–æ!",
    },
]
</script>

<style module lang="scss">
ul {
    margin: 0;
}

.faqSection {
    padding: 4rem 0;
    background: linear-gradient(45deg, #fff5f8 0%, #f8f2e5 100%);
}

.faqTitle {
    font-family: 'Playfair Display', serif;
    font-size: 2.5rem;
    text-align: center;
    color: #b76e79;
    margin-bottom: 2.5rem;
    position: relative;

    &::after {
        content: '';
        display: block;
        width: 60px;
        height: 2px;
        background: #b76e79;
        margin: 1rem auto 0;
    }
}

.faqAccordion {
    max-width: 800px;
    margin: 0 auto;
}

.faqItem {
    margin-bottom: 1rem;
    border-radius: 8px;
    background: white;
    box-shadow: 0 3px 15px rgba(183, 110, 121, 0.1);
    transition: all 0.3s ease;

    &.active {
        box-shadow: 0 5px 20px rgba(183, 110, 121, 0.15);
        max-height: 500px;

        .faqAnswer {
            max-height: 500px;
            padding: 1rem;
        }

        .arrowIcon {
            transform: rotate(180deg);
        }
    }
}

.faqQuestion {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    cursor: pointer;

    span {
        font-family: 'Lora', serif;
        font-size: 1.1rem;
        color: #4a4a4a;
        font-weight: 500;
    }
}

.arrowIcon {
    width: 20px;
    height: 20px;
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23b76e79'%3E%3Cpath d='M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z'/%3E%3C/svg%3E");
    transition: transform 0.3s ease;
}

.faqAnswer {
    max-height: 0;
    overflow: hidden;
    transition: all 0.3s ease;
    padding: 0 1.5rem;

    p {
        font-family: 'Lora', serif;
        color: #666;
        line-height: 1.6;
        margin: 0;
    }
}

.answerContent {
    padding: 0 1.5rem 1.5rem;
    word-wrap: break-word;
    overflow-y: auto;
    max-height: 300px;
}

.giftList {
    margin: 1rem 0;
    padding-left: 1.5rem;
}

@media (max-width: 768px) {
    .faqTitle {
        font-size: 2rem;
    }

    .faqQuestion span {
        font-size: 1rem;
    }
}
</style>
